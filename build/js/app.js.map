{"version":3,"sources":["app.js","FloatVideo.js"],"names":["document","addEventListener","VideoFloat","init","containerID","this","container","getElementById","video","getElementsByTagName","overlay","createElement","parentElement","style","height","clientHeight","appendChild","classList","add","dataset","popup","coordinates","getBoundingClientRect","bottom","create","className","w","h","contains","width","display","remove","animate","vector","flag","up","ds","z","op","t","l","zIndex","opacity","top","left","close"],"mappings":"AAAA,aCCCA,SAASC,iBAAiB,mBAAoB,WAG7C,IAAMC,GACLC,KADkB,SACbC,GACJC,KAAKC,UAAYN,SAASO,eAAe,mBACzCF,KAAKG,MAAQH,KAAKC,UAAUG,qBAAqB,SAAS,GAC1DJ,KAAKK,QAAUV,SAASW,cAAc,OAEtCN,KAAKC,UAAUM,cAAcC,MAAMC,OAAST,KAAKC,UAAUS,aAAe,KAG1EV,KAAKC,UAAUU,YAAYX,KAAKK,SAChCL,KAAKK,QAAQO,UAAUC,IAAI,WAC3Bb,KAAKK,QAAQS,QAAQC,MAAQ,EAC7Bf,KAAKK,QAAQT,iBAAiB,QAAS,WACb,GAAtBI,KAAKc,QAAQC,MAAYlB,EAAWkB,MAAM,QACxClB,EAAWkB,MAAM,YAIxBC,YAlBkB,WAoBjB,OAAOnB,EAAWI,UAAUM,cAAcU,wBAAwBC,QAGnEC,OAvBkB,SAuBXC,EAAWC,EAAGC,GACpBtB,KAAKqB,EAAIA,EACTrB,KAAKsB,EAAIA,EAEJzB,EAAWI,UAAUW,UAAUW,SAASH,KAC5CvB,EAAWI,UAAUW,UAAUC,IAAIO,GACnCvB,EAAWI,UAAUO,MAAMgB,MAAQxB,KAAKqB,EAAI,KAC5CxB,EAAWI,UAAUO,MAAMC,OAAST,KAAKsB,EAAI,KAG7CzB,EAAWQ,QAAQG,MAAMiB,QAAU,UAMrCC,OAvCkB,SAuCXN,GACFvB,EAAWI,UAAUW,UAAUW,SAASH,KAC3CvB,EAAWI,UAAUW,UAAUc,OAAON,GACtCvB,EAAWI,UAAUO,MAAQ,GAC7BX,EAAWM,MAAMS,UAAUc,OAAO,SAClC7B,EAAWQ,QAAQS,QAAQC,MAAQ,EACnClB,EAAWQ,QAAQG,MAAQ,GAG3BX,EAAWQ,QAAQG,MAAMiB,QAAU,SAMrCE,QAtDkB,SAsDVC,GACCA,GAQTb,MA/DkB,SA+DZc,GAYL,SAASC,EAAGC,EAAIC,EAAGC,EAAIC,EAAGC,EAAGd,EAAGC,GAC/BzB,EAAWQ,QAAQS,QAAQC,MAAQgB,EACnClC,EAAWQ,QAAQG,MAAM4B,OAASJ,EAClCnC,EAAWQ,QAAQG,MAAM6B,QAAUJ,EACnCpC,EAAWI,UAAUO,MAAM8B,IAAMJ,EACjCrC,EAAWI,UAAUO,MAAM+B,KAAOJ,EAClCtC,EAAWI,UAAUO,MAAMgB,MAAQH,EACnCxB,EAAWI,UAAUO,MAAMC,OAASa,EAlBrC,OAAOO,GACN,IAAK,OACJC,EAAG,EAAG,KAAM,GAAK,EAAG,EAAG,OAAQ,QAC/BjC,EAAWM,MAAMS,UAAUC,IAAI,SAC/B,MACD,IAAK,QACJiB,EAAG,EAAG,EAAG,EAAG,OAAQ,OAAQ9B,KAAKqB,EAAI,KAAMrB,KAAKsB,EAAI,MACpDzB,EAAWM,MAAMS,UAAUc,OAAO,WAgBrCc,MAvFkB,cA4FnB3C,EAAWC,KAAK,mBAGhBH,SAASC,iBAAiB,SAAU,WACvBC,EAAWmB,eAIV,EACZnB,EAAWsB,OAAO,MAJX,IACA,KAMPtB,EAAW6B,OAAO","file":"app.js","sourcesContent":["\"use strict\";\r\n\r\n","(function () {\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\t\t//module\r\n\t\tconst VideoFloat = {\r\n\t\t\tinit(containerID) {\r\n\t\t\t\tthis.container = document.getElementById(\"video-container\");  //block with the video\r\n\t\t\t\tthis.video = this.container.getElementsByTagName(\"video\")[0]; //block with video\r\n\t\t\t\tthis.overlay = document.createElement(\"div\");\r\n\r\n\t\t\t\tthis.container.parentElement.style.height = this.container.clientHeight + \"px\";\r\n\r\n\t\t\t\t//overlay\r\n\t\t\t\tthis.container.appendChild(this.overlay);\r\n\t\t\t\tthis.overlay.classList.add(\"overlay\");\r\n\t\t\t\tthis.overlay.dataset.popup = 0;\r\n\t\t\t\tthis.overlay.addEventListener(\"click\", function() {\r\n\t\t\t\t\tif(this.dataset.popup == 0) VideoFloat.popup(\"open\");\r\n\t\t\t\t\telse VideoFloat.popup(\"close\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcoordinates() {\r\n\t\t\t\t//point(Y), below which appears the fixed block = the lower boundary of main container with the video\r\n\t\t\t\treturn VideoFloat.container.parentElement.getBoundingClientRect().bottom;\r\n\t\t\t},\r\n\r\n\t\t\tcreate(className, w, h) { //\"w\" and \"h\" are numbers, not strings!\r\n\t\t\t\tthis.w = w;\r\n\t\t\t\tthis.h = h;\r\n\r\n\t\t\t\tif (!VideoFloat.container.classList.contains(className)) {\r\n\t\t\t\t\tVideoFloat.container.classList.add(className);\r\n\t\t\t\t\tVideoFloat.container.style.width = this.w + \"px\";\r\n\t\t\t\t\tVideoFloat.container.style.height = this.h + \"px\";\r\n\r\n\t\t\t\t\t//overlay\r\n\t\t\t\t\tVideoFloat.overlay.style.display = \"block\";\r\n\r\n\t\t\t\t\t//VideoFloat.animate(\"bottom\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tremove(className) {\r\n\t\t\t\tif (VideoFloat.container.classList.contains(className)) {\r\n\t\t\t\t\tVideoFloat.container.classList.remove(className);\r\n\t\t\t\t\tVideoFloat.container.style = \"\";\r\n\t\t\t\t\tVideoFloat.video.classList.remove(\"popup\");\r\n\t\t\t\t\tVideoFloat.overlay.dataset.popup = 0;\r\n\t\t\t\t\tVideoFloat.overlay.style = \"\";\r\n\r\n\t\t\t\t\t//overlay\r\n\t\t\t\t\tVideoFloat.overlay.style.display = \"none\";\r\n\r\n\t\t\t\t\t//VideoFloat.animate(\"top\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tanimate(vector) {\r\n\t\t\t\tswitch (vector) {\r\n\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tpopup(flag) {\r\n\t\t\t\tswitch(flag) {\r\n\t\t\t\t\tcase \"open\": \r\n\t\t\t\t\t\tup(1, \"-1\", 0.5, 0, 0, \"100%\", \"100%\");\r\n\t\t\t\t\t\tVideoFloat.video.classList.add(\"popup\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"close\": \r\n\t\t\t\t\t\tup(0, 0, 0, \"auto\", \"auto\", this.w + \"px\", this.h + \"px\");\r\n\t\t\t\t\t\tVideoFloat.video.classList.remove(\"popup\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction up(ds, z, op, t, l, w, h) {\r\n\t\t\t\t\tVideoFloat.overlay.dataset.popup = ds;\r\n\t\t\t\t\tVideoFloat.overlay.style.zIndex = z;\r\n\t\t\t\t\tVideoFloat.overlay.style.opacity = op;\r\n\t\t\t\t\tVideoFloat.container.style.top = t;\r\n\t\t\t\t\tVideoFloat.container.style.left = l;\r\n\t\t\t\t\tVideoFloat.container.style.width = w;\r\n\t\t\t\t\tVideoFloat.container.style.height = h;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tclose() { }\r\n\t\t};\r\n\r\n\r\n\t\t//---- run script ----//\r\n\t\tVideoFloat.init(\"video-container\");\r\n\r\n\t\t//page scrolling\r\n\t\tdocument.addEventListener(\"scroll\", function () {\r\n\t\t\tvar coord = VideoFloat.coordinates();\r\n\t\t\tvar w = 200;\r\n\t\t\tvar h = 100;\r\n\r\n\t\t\tif (coord <= 0) {\r\n\t\t\t\tVideoFloat.create(\"fix\", w, h);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tVideoFloat.remove(\"fix\");\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n})();"]}