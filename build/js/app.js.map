{"version":3,"sources":["app.js","FloatVideo.js"],"names":["document","addEventListener","VideoFloat","init","videoID","this","video","getElementById","container","parentElement","shadow","createElement","insertBefore","firstElementChild","style","height","clientHeight","coordinates","getBoundingClientRect","bottom","create","className","w","h","classList","contains","add","width","position","top","background","animate","remove","display","vector","popup","close"],"mappings":"AAAA,aCCCA,SAASC,iBAAiB,mBAAoB,WAG7C,IAAMC,GACLC,KADkB,SACbC,GACJC,KAAKC,MAAQN,SAASO,eAAeH,GACrCC,KAAKG,UAAYH,KAAKC,MAAMG,cAC5BJ,KAAKK,OAASV,SAASW,cAAc,OAErCN,KAAKC,MAAMM,aAAaP,KAAKK,OAAQL,KAAKC,MAAMO,mBAGhDR,KAAKG,UAAUM,MAAMC,OAASV,KAAKC,MAAMU,aAAe,MAGzDC,YAZkB,WAcjB,OAAOf,EAAWM,UAAUU,wBAAwBC,QAGrDC,OAjBkB,SAiBXC,EAAWC,EAAGC,GACfrB,EAAWI,MAAMkB,UAAUC,SAASJ,KACxCnB,EAAWI,MAAMkB,UAAUE,IAAIL,GAC/BnB,EAAWI,MAAMQ,MAAMa,MAAQL,EAAI,KACnCpB,EAAWI,MAAMQ,MAAMC,OAASQ,EAAI,KAGpCrB,EAAWQ,OAAOI,MAAMc,SAAW,WACnC1B,EAAWQ,OAAOI,MAAMe,IAAM,IAC9B3B,EAAWQ,OAAOI,MAAMa,MAAQ,OAChCzB,EAAWQ,OAAOI,MAAMC,OAAS,OACjCb,EAAWQ,OAAOI,MAAMgB,WAAa,MAErC5B,EAAW6B,QAAQ,YAIrBC,OAlCkB,SAkCXX,GACFnB,EAAWI,MAAMkB,UAAUC,SAASJ,KACvCnB,EAAWI,MAAMkB,UAAUQ,OAAOX,GAClCnB,EAAWI,MAAMQ,MAAMa,MAAQ,OAC/BzB,EAAWI,MAAMQ,MAAMC,OAAS,OAEhCb,EAAWQ,OAAOI,MAAMmB,QAAU,OAElC/B,EAAW6B,QAAQ,SAIrBA,QA9CkB,SA8CVG,GACCA,GAQTC,MAvDkB,aA2DlBC,MA3DkB,cAgEnBlC,EAAWC,KAAK,SAGhBH,SAASC,iBAAiB,SAAU,WACvBC,EAAWe,eAIV,EAAGf,EAAWkB,OAAO,YAH1B,IACA,KAGHlB,EAAW8B,OAAO","file":"app.js","sourcesContent":["\"use strict\";\r\n\r\n","(function () {\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\t\t//module\r\n\t\tconst VideoFloat = {\r\n\t\t\tinit(videoID) {\r\n\t\t\t\tthis.video = document.getElementById(videoID); //block with video\r\n\t\t\t\tthis.container = this.video.parentElement; //block with the video\r\n\t\t\t\tthis.shadow = document.createElement(\"div\");\r\n\r\n\t\t\t\tthis.video.insertBefore(this.shadow, this.video.firstElementChild);\r\n\r\n\r\n\t\t\t\tthis.container.style.height = this.video.clientHeight + \"px\";\r\n\t\t\t},\r\n\r\n\t\t\tcoordinates() {\r\n\t\t\t\t//point(Y), below which appears the fixed block = the lower boundary of main container with the video\r\n\t\t\t\treturn VideoFloat.container.getBoundingClientRect().bottom;\r\n\t\t\t},\r\n\r\n\t\t\tcreate(className, w, h) { //\"w\" and \"h\" are numbers, not strings!\r\n\t\t\t\tif (!VideoFloat.video.classList.contains(className)) {\r\n\t\t\t\t\tVideoFloat.video.classList.add(className);\r\n\t\t\t\t\tVideoFloat.video.style.width = w + \"px\";\r\n\t\t\t\t\tVideoFloat.video.style.height = h + \"px\";\r\n\r\n\t\t\t\t\t//shadow\r\n\t\t\t\t\tVideoFloat.shadow.style.position = \"absolute\";\r\n\t\t\t\t\tVideoFloat.shadow.style.top = \"0\";\r\n\t\t\t\t\tVideoFloat.shadow.style.width = \"100%\";\r\n\t\t\t\t\tVideoFloat.shadow.style.height = \"100%\";\r\n\t\t\t\t\tVideoFloat.shadow.style.background = \"red\";\r\n\r\n\t\t\t\t\tVideoFloat.animate(\"bottom\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tremove(className) {\r\n\t\t\t\tif (VideoFloat.video.classList.contains(className)) {\r\n\t\t\t\t\tVideoFloat.video.classList.remove(className);\r\n\t\t\t\t\tVideoFloat.video.style.width = \"100%\";\r\n\t\t\t\t\tVideoFloat.video.style.height = \"auto\";\r\n\r\n\t\t\t\t\tVideoFloat.shadow.style.display = \"none\";\r\n\r\n\t\t\t\t\tVideoFloat.animate(\"top\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tanimate(vector) {\r\n\t\t\t\tswitch (vector) {\r\n\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tpopup() {\r\n\t\t\t\t//alert(\"OK!\");\r\n\t\t\t},\r\n\r\n\t\t\tclose() { }\r\n\t\t};\r\n\r\n\r\n\t\t//---- run script ----//\r\n\t\tVideoFloat.init(\"video\");\r\n\r\n\t\t//page scrolling\r\n\t\tdocument.addEventListener(\"scroll\", function () {\r\n\t\t\tvar coord = VideoFloat.coordinates();\r\n\t\t\tvar w = 200;\r\n\t\t\tvar h = 100;\r\n\r\n\t\t\tif (coord <= 0) VideoFloat.create(\"video_fix\", w, h);\r\n\t\t\telse VideoFloat.remove(\"video_fix\");\r\n\t\t});\r\n\t});\r\n})();"]}