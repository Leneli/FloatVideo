"use strict";document.addEventListener("DOMContentLoaded",function(){var t={init:function(t){this.duration=1e3,this.w=t},run:function(n){n.duration=t.duration;var e=performance.now();this.animationFrame=requestAnimationFrame(function t(o){var i=(o-e)/n.duration;i>1&&(i=1);var a=i;n.draw(a),i<1&&requestAnimationFrame(t)})},bottom:function(n){var e=n.clientWidth;n.style.position="fixed",t.run({draw:function(o){n.style.bottom=100-100*o+"%",n.style.transform="scale("+(1-o*(1-t.w/e))+")"}})},top:function(n){var e=document.body.clientWidth;t.run({draw:function(o){n.style.top=0,n.style.bottom="auto",n.style.transform="scale("+(t.w/e+o*(1-t.w/e))+")"}})},close:function(n){var e=n.clientWidth;t.run({draw:function(o){n.style.transform="scale("+(1-o*(1-t.w/e))+")"}})},cancelAnimation:function(){cancelAnimationFrame(t.animationFrame)}},n={init:function(t){this.container=document.getElementById("video-container"),this.video=this.container.getElementsByTagName("video")[0],this.overlay=document.createElement("div"),this.container.parentElement.style.height=this.container.clientHeight+"px",this.container.appendChild(this.overlay),this.overlay.classList.add("overlay"),this.overlay.dataset.popup=0,this.overlay.addEventListener("click",function(){0==this.dataset.popup?n.popup("open"):n.popup("close")})},coordinates:function(){return n.container.parentElement.getBoundingClientRect()},create:function(e){n.container.classList.contains(e)||(n.container.classList.add(e),n.overlay.style.display="block",t.bottom(n.container))},remove:function(e){n.container.classList.contains(e)&&(n.container.classList.remove(e),n.overlay.style.display="none",t.top(n.container),1==n.overlay.dataset.popup&&(n.video.classList.remove("popup"),n.overlay.dataset.popup=0,n.overlay.style="",t.cancelAnimation()))},popup:function(e){function o(t,e,o,i){n.overlay.dataset.popup=t,n.overlay.style.zIndex=e,n.overlay.style.opacity=o,n.container.style.height=i}switch(e){case"open":o(1,"-1",.5,"100%"),t.top(n.container),n.video.classList.add("popup");break;case"close":o(0,0,0,"auto"),t.close(n.container),n.video.classList.remove("popup"),n.container.style.bottom=0}},static:function(){n.container.style.position="static"}};n.init("video-container"),document.addEventListener("scroll",function(){var e=n.coordinates().bottom,o=n.coordinates().top;t.init(200),e<=0?n.create("fix",200):n.remove("fix"),o>=0&&n.static()})});
//# sourceMappingURL=app.js.map
